/*!jQuery Oketheme | Oketoko*/function refresh_captcha(){return document.getElementById("captcha_code").value="",document.getElementById("captcha_code").focus(),document.images.captchaimg.src=document.images.captchaimg.src.substring(0,document.images.captchaimg.src.lastIndexOf("?"))+"?rand="+1e3*Math.random()}
function getVoucher(){event.preventDefault();var kode=$(".coupon").val();belanja=$('#totalbelanja').val();if(kode!=''){$.ajax({type:'POST',dataType:'json',url:ajaxurl,data:{'action':'getVoucher','kode':kode,'belanja':belanja,},beforeSend:function(){$('.voucherloading').show();},success:function(data){$('.voucherloading').hide();if(data.response==true){$(".bdisc").text('Rp '+belanja.replace(/\B(?=(\d{3})+(?!\d))/g,".")),$("#totalbelanja2").val(data.after),$("#diskon").val(data.diskon),$(".textdiskon").text('Rp '+$('#diskon').val().replace(/\B(?=(\d{3})+(?!\d))/g,"."));$(".textcoupon").text(kode),$(".voucher,.bdisc").slideDown();if(data.affid==null){$("#affid").val($('.affidcookie').val());$(".affname").text($('.affnamecookie').val());}else{$("#affid").val(data.affid);$(".affname").text(data.affname);}
$(".voucherinfo").hide();$.fancybox.close();}else{$(".voucher,.bdisc").slideUp(),$("#totalbelanja2").val(belanja),$("#diskon").val('0'),$(".coupon").val('');$("#affid").val($('.affidcookie').val());$(".affname").text($('.affnamecookie').val());}
$('.infodisc').text(data.message).slideDown().delay('3000').slideUp();getTotalHarga();}});}}
function delVoucher(){$(".voucher,.bdisc").slideUp(),$("#totalbelanja2").val(belanja),$("#diskon").val('0'),$(".coupon").val('');$("#affid").val($('.affidcookie').val());$(".affname").text($('.affnamecookie').val());$(".voucherinfo").slideDown();getTotalHarga();}
function pilihOngkir(){var e=$('input[name="pilihpaket"]:checked').val().split('|'),k=e[1].toUpperCase(),s=e[2],ks=k+" ("+s+")";$("#ongkir").val(e[0]),getTotalHarga(),$(".textkurir").text(ks),$(".kurir").val(ks),$("#pengiriman-error").hide();}
function cekOngkirCustom(){var nama=$("#ckurir_name").text(),harga=$("#ckurir_kg").val(),berat=$("#beratbelanja").val().replace(/\./g,"");if(berat<1000){berat=1000;}
beratkg=berat/1000,beratfix=beratkg.toFixed(0),totalongkir=harga*beratfix;$("#ongkir").val(totalongkir),getTotalHarga(),$(".textkurir").text(nama),$(".kurir").val(nama),$("#pengiriman-error").hide();}
function getTotalHarga(){var e=parseInt($("#totalbelanja2").val()),t=parseInt($("#ongkir").val()),i=e+t;if(t=='0'){$(".textongkir").text('-'),$(".textkurir").text('Belum memilih kurir');}else{$(".textongkir").text('Rp '+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."));}
$(".texttotalbelanja").text(e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")),$(".texttotal").text(i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")),$("#totalbelanja2").val(e),$("#total").val(i);}
function getIDtrx(){var idkom=document.getElementsByName('idkom[]');comid="";for(var i=0,n=idkom.length;i<n;i++){comid+=","+idkom[i].value;}
if(comid)comid=comid.substring(1);$("#comid").val(comid);}
$(document).ready(function(){$(".cornerclose").click(function(){$(this).parent().slideUp("fast");});$(".zoomhp").click(function(){$(".zoomcover").fadeToggle("fast");$(this).html($(this).html()=='disable zoom'?'<i class="ti-zoom-in"></i> activate zoom':'disable zoom');}),$('.gridlook').click(function(){$(".areafeed .gridpad").removeClass("listview");$(this).addClass("look-active");$(".listlook").removeClass("look-active");});$('.listlook').click(function(){$(".areafeed .gridpad").addClass("listview");$(this).addClass("look-active");$(".gridlook").removeClass("look-active");});$("#dropship").change(function(){$(".dropship").slideToggle();});var addresscheck=$("input[name=address]").val();if(addresscheck=='ok'){$("#kurirbox .kurirblock").hide();$("#kurirbox").css("padding","0");}
$("#desprovince").change(function(){$("#descity").show();var e=$("#desprovince").val();loadCity(e,"#descity");var district_select=document.getElementById("desdistrict");district_select.options.length=0;district_select.options[district_select.options.length]=new Option('-','');$("#desprovince option:selected").each(function(){$("#propinsi").val($(this).text());$("#propinsi_code").val($(this).val());});}),$("#descity").change(function(){$("#desdistrict").show();var e=$("#descity").val();loadDistrict(e,"#desdistrict");$("#descity option:selected").each(function(){$("#kota").val($(this).text());$("#kota_code").val($(this).val());});}),$("#desdistrict").change(function(){$("#desdistrict option:selected").each(function(){$("#kecamatan").val($(this).text());$("#kecamatan_code").val($(this).val());});$(".kurir,#pilihankurir").val(''),$("#ongkir").val('0'),getTotalHarga(),$("#resultongkir").hide();}),$('#warnabox .warni').click(function(){$(this).parent().find('.selected').removeClass('selected');$(this).addClass('selected');var i=$(this).attr('data-value');e=$("#kode").val(),t=$('#pilihantext').val(),v=$('#pilihanval').val();$('#warna').val(i);$("#harga").val(v),$("#kodebaru").val(e+"/"+i+"/"+t),$("#warnanya").text(i).show();}),$('#pilihanbox .pilih').click(function(){$(this).parent().find('.selected').removeClass('selected');$(this).addClass('selected');var t=$(this).attr('data-text');v=$(this).attr('data-value');e=$("#kode").val(),a=t.split('/');i=$("#warna").val();$('#pilihantext').val(t);$('#pilihanval').val(v);$("#harga").val(""!=$("#warna").val()?$("#pilihanval").val():$("#warna").val()),$("#kodebaru").val(e+"/"+i+"/"+t),$("#ukurannya,.iharga .mulai").text(a[0]).show(),$(".iharga .harga").text(a[1]).show();if(a[2]!='Rp 0'){$(".iharga .coret").text(a[2]);}}),$(".btn-number").click(function(e){e.preventDefault(),fieldName=$(this).attr("data-field"),type=$(this).attr("data-type");var t=$("input[name='"+fieldName+"']"),i=parseInt(t.val());isNaN(i)?t.val(0):"minus"==type?(i>t.attr("min")&&t.val(i-1).change(),parseInt(t.val())==t.attr("min")&&$(this).attr("disabled",!0)):"plus"==type&&(i<t.attr("max")&&t.val(i+1).change(),parseInt(t.val())==t.attr("max")&&$(this).attr("disabled",!0))}),$(".input-number").focusin(function(){$(this).data("oldValue",$(this).val())}),$(".input-number").change(function(){minValue=parseInt($(this).attr("min")),maxValue=parseInt($(this).attr("max")),valueCurrent=parseInt($(this).val()),name=$(this).attr("name"),valueCurrent>=minValue?$(".btn-number[data-type='minus'][data-field='"+name+"']").removeAttr("disabled"):(alert("Maaf, minimal jumlah pemesanan telah tercapai"),$(this).val($(this).data("oldValue"))),valueCurrent<=maxValue?$(".btn-number[data-type='plus'][data-field='"+name+"']").removeAttr("disabled"):(alert("Maaf, maximal jumlah pemesanan telah tercapai"),$(this).val($(this).data("oldValue")))}),$(".pixel_addtocart").click(function(){var title=$(this).attr('data-title'),img=$(this).attr('data-img');if($(this).attr('class')=='buybutton pixel_addtocart'){$("#colorsize").show();}else{$("#colorsize").hide();}
$(".popcart h4").text(title),document.getElementById("popcart-img").src=img;}),$(".quicklink").click(function(){var title=$(this).attr('data-title'),img=$(this).attr('data-img');url=$(this).attr('data-url');btn=$(this).attr('data-btn');$('#quick-title').text(title),document.getElementById('quick-img').src=img,document.getElementById('quick-link').href=url;$('.wali a').each(function(){this.href=this.href.replace('Halo...','Halo, saya tertarik dengan produk: '+title);});if(btn){$(".quickview button").show();}else{$(".quickview button").hide();}}),$('.affbanner .copybutton').click(function(){$(this).parent().parent().find('#copytext').removeAttr('id');$(this).parent().find('textarea').attr('id','copytext');var copyText=document.getElementById("copytext");copyText.select();copyText.setSelectionRange(0,99999)
document.execCommand("copy");$(this).parent().find('.copyinfo').fadeIn().delay('5000').fadeOut();}),$('.tandaiselesai').submit(function(){$(this).find('.button-selesai').hide();$(this).find('.gifloading').show();});$('.codpay').submit(function(){$(this).find('.gifloading').show();});});